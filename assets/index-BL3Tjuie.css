.app-container{height:100vh;display:flex;flex-direction:column}header{height:64px;display:flex;align-items:center;padding:0 24px;z-index:10;flex-shrink:0}.header-content{display:flex;justify-content:space-between;align-items:center;width:100%}header h1{font-size:1.25rem;font-weight:700;letter-spacing:-.025em;background:linear-gradient(135deg,#fff,#a1a1ff);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.export-btn{display:flex;align-items:center;gap:8px;font-size:.9rem}main{flex:1;overflow:hidden;display:flex}.editor-layout{display:flex;width:100%;height:100%}.left-sidebar,.right-sidebar{width:300px;height:100%;padding:20px;display:flex;flex-direction:column;gap:12px;overflow-y:auto;flex-shrink:0}.left-sidebar::-webkit-scrollbar,.right-sidebar::-webkit-scrollbar{width:4px}.left-sidebar::-webkit-scrollbar-thumb,.right-sidebar::-webkit-scrollbar-thumb{background:#ffffff1a;border-radius:2px}h2{font-size:.75rem;text-transform:uppercase;color:var(--secondary);letter-spacing:.1em;font-weight:600;display:flex;align-items:center;gap:6px}h3{font-size:.8rem;color:var(--secondary);margin-bottom:8px;font-weight:500}.layout-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}.layout-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:8px 4px;border-radius:var(--radius-md);background:var(--surface);border:1px solid var(--border);color:var(--primary);cursor:pointer;transition:all .2s ease;font-size:.8rem}.layout-btn:hover{background:var(--surface-hover);border-color:var(--accent)}.layout-btn.active{background:#3b82f633;border-color:var(--accent);color:var(--accent)}.layout-icon{font-size:1.1rem;letter-spacing:.05em}.layout-name{font-size:.7rem;opacity:.7}.ratio-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}.ratio-btn{display:flex;flex-direction:column;align-items:center;gap:2px;padding:8px 4px;border-radius:var(--radius-md);background:var(--surface);border:1px solid var(--border);color:var(--primary);cursor:pointer;transition:all .2s ease}.ratio-btn:hover{background:var(--surface-hover);border-color:var(--accent)}.ratio-btn.active{background:#3b82f633;border-color:var(--accent);color:var(--accent)}.ratio-icon{display:flex;align-items:center}.ratio-name{font-size:.75rem;font-weight:600}.ratio-label{font-size:.6rem;opacity:.6}.canvas-settings{display:flex;flex-direction:column;gap:12px}.setting-row{display:flex;align-items:center;gap:8px}.setting-row label{font-size:.8rem;color:var(--secondary);white-space:nowrap;min-width:42px}.setting-row input[type=range]{flex:1}.setting-row input[type=color]{width:36px;height:28px;border:1px solid var(--border);border-radius:6px;background:transparent;cursor:pointer;padding:2px}.setting-value{font-size:.7rem;color:var(--secondary);min-width:32px;text-align:right}.canvas-area{flex:1;display:flex;align-items:center;justify-content:center;padding:32px;background:#0006;overflow:hidden}.canvas-wrapper{max-width:100%;max-height:100%;position:relative;box-shadow:0 25px 65px -12px #0009;transition:all .3s ease}.canvas-wrapper.portrait{height:100%;width:auto}.canvas-wrapper.landscape{width:100%;height:auto}.photo-grid{width:100%;height:100%}.grid-cell{background:#ffffff08;transition:box-shadow .2s ease,outline .2s ease;outline:2px solid transparent}.grid-cell:hover{outline:2px solid rgba(59,130,246,.4)}.grid-cell.selected{outline:2px solid var(--accent);box-shadow:inset 0 0 0 1px var(--accent)}.grid-cell img{display:block;pointer-events:none}.cell-upload{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;height:100%;cursor:pointer;color:var(--secondary);font-size:.75rem;transition:all .2s ease;background:#ffffff05}.cell-upload:hover{background:#3b82f61a;color:var(--accent)}.cell-index{position:absolute;top:6px;left:6px;width:20px;height:20px;border-radius:50%;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;font-size:.65rem;font-weight:600;color:#ffffffb3;pointer-events:none}.panel-header{display:flex;justify-content:space-between;align-items:center}.btn-icon{background:var(--surface);border:1px solid var(--border);color:var(--secondary);padding:6px;border-radius:8px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center}.btn-icon:hover{color:var(--primary);border-color:var(--accent)}.presets-section{margin-top:4px}.presets-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}.preset-btn{display:flex;flex-direction:column;align-items:center;gap:4px;background:none;border:1px solid var(--border);border-radius:8px;padding:6px 3px;cursor:pointer;transition:all .2s ease;color:var(--secondary);font-size:.6rem}.preset-btn:hover{border-color:var(--accent);color:var(--primary)}.preset-preview{width:100%;aspect-ratio:1;border-radius:6px;background-size:cover;background-position:center}.filters-section,.size-section{margin-top:8px}.control-group{display:flex;flex-direction:column;gap:4px;margin-bottom:10px}.control-group label{font-size:.8rem;color:var(--secondary);display:flex;align-items:center;gap:4px}.slider-row{display:flex;align-items:center;gap:8px}.slider-row input[type=range]{flex:1}.slider-row span{font-size:.7rem;color:var(--secondary);min-width:36px;text-align:right}input[type=range]{width:100%;accent-color:var(--accent);height:4px}.fit-toggle{display:flex;gap:8px;margin-bottom:12px}.fit-btn{flex:1;padding:8px;border-radius:var(--radius-md);background:var(--surface);border:1px solid var(--border);color:var(--secondary);font-size:.8rem;cursor:pointer;transition:all .2s ease}.fit-btn.active{background:#3b82f633;border-color:var(--accent);color:var(--accent)}.fit-btn:hover:not(.active){background:var(--surface-hover)}.replace-btn{display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;margin-top:auto}.empty-panel{height:100%;display:flex;align-items:center;justify-content:center;color:var(--secondary);font-size:.9rem;text-align:center}.header-actions{display:flex;align-items:center;gap:8px}.cache-btn{padding:8px;border-radius:8px;background:#ef444426;border:1px solid rgba(239,68,68,.3);color:#f87171}.cache-btn:hover{background:#ef44444d;border-color:#f87171;color:#fff}.export-btn.recording{background:#ef444499;animation:pulse-record 1s ease-in-out infinite}@keyframes pulse-record{0%,to{opacity:1}50%{opacity:.6}}.mobile-nav{display:none}@media(max-width:768px){header{height:52px;padding:0 12px}header h1{font-size:1rem}.export-btn span{display:none}.export-btn{padding:8px 12px;font-size:.8rem}main{flex:1;overflow:hidden}.editor-layout{position:relative;height:100%}.left-sidebar,.right-sidebar{display:none;width:100%;height:100%;position:absolute;top:0;left:0;z-index:20;padding:16px}.left-sidebar.mobile-visible,.right-sidebar.mobile-visible{display:flex}.canvas-area{padding:8px;width:100%;height:100%}.canvas-wrapper.portrait{height:100%;width:auto;max-width:100%}.canvas-wrapper.landscape{width:100%;height:auto;max-height:100%}.cell-upload{font-size:.65rem;gap:4px}.cell-upload svg{width:20px;height:20px}.layout-grid{grid-template-columns:repeat(4,1fr);gap:6px}.ratio-grid{grid-template-columns:repeat(3,1fr)}.presets-grid{grid-template-columns:repeat(4,1fr)}.mobile-nav{display:flex;position:fixed;bottom:0;left:0;right:0;height:64px;z-index:100;justify-content:space-around;align-items:center;padding:0 8px;padding-bottom:env(safe-area-inset-bottom,0px);border-top:1px solid var(--border)}.mobile-nav-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:8px 16px;border-radius:12px;background:transparent;border:none;color:var(--secondary);font-size:.65rem;cursor:pointer;transition:all .2s ease}.mobile-nav-btn.active{color:var(--accent);background:#3b82f626}.app-container{height:100vh;height:100dvh;padding-bottom:calc(64px + env(safe-area-inset-bottom,0px))}}:root{--primary: #ffffff;--secondary: #a1a1aa;--accent: #3b82f6;--background: #09090b;--surface: #18181b;--surface-hover: #27272a;--glass: rgba(24, 24, 27, .7);--border: rgba(255, 255, 255, .1);--radius-lg: 16px;--radius-md: 12px;--font-main: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-main);background-color:var(--background);color:var(--primary);overflow:hidden;height:100vh;width:100vw}#root{height:100%}.glass-morphism{background:var(--glass);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid var(--border)}.gradient-bg{background:radial-gradient(circle at top left,#1e1b4b,#09090b,#020617)}.btn-primary{background:var(--accent);color:#fff;border:none;padding:8px 16px;border-radius:var(--radius-md);font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary:hover{opacity:.9;transform:translateY(-1px)}.btn-secondary{background:var(--surface);color:var(--primary);border:1px solid var(--border);padding:8px 16px;border-radius:var(--radius-md);font-weight:500;cursor:pointer;transition:all .2s ease}.btn-secondary:hover{background:var(--surface-hover)}
